<?xml version="1.0" encoding="UTF-8"?>
<!--  $Id: fgsconfig.xml gertsp $ -->
<project name="FgsConfigRepos" default="configFgsRepos" basedir=".">
	<description>
		Fedora Generic Search Service configuration of a repository
		This ant script is run from fgsconfig-repos.sh:
					>ant -f fgsconfig-repos.xml -DreposName=reposName
	</description>

	<property file="fgsconfig-repos-${reposName}-input.properties" />
	
	<target name="configFgsRepos"
        	description="insert config values into config files">
		
		<delete dir="${finalConfigReposPath}" />
		<mkdir dir="${finalConfigReposPath}" />
		<copy todir="${finalConfigReposPath}">
			<fileset dir="${templateConfigReposPath}"/>
		</copy>

		<replace file="${finalConfigReposPath}/repository.properties" token="REPOSNAME" value="${reposName}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORABASE" value="${fedoraBase}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORAAPPNAME" value="${fedoraAppName}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORAUSER" value="${fedoraUser}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORAPASS" value="${fedoraPass}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORAVERSION" value="${fedoraVersion}"/>
		<replace file="${finalConfigReposPath}/repository.properties" token="FEDORAOBJECTDIR" value="${objectStoreBase}"/>
		
	</target>

</project>
