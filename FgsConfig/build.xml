<?xml version="1.0" encoding="UTF-8"?>
<!--  $Id$ -->
<project name="FgsConfig" default="configlocal" basedir=".">
	<description>Fedora Generic Search Service configuration</description>

	<property name="build.dir" location="../FgsBuild/webapp" />
	<property name="plugin.dir" location="${build.dir}/WEB-INF/classes" />
	<property name="project.dir" location="../FgsBuild/eclipseprojects/FgsConfig" />

	<target name="prep"
	          description="prepare">
		<delete dir="${plugin.dir}/config" />
		<mkdir dir="${plugin.dir}/config" />
		<copy todir="${plugin.dir}/config">
			<fileset dir="config"/>
		</copy>
		<delete dir="${plugin.dir}/configsindaponlucene" />
		<mkdir dir="${plugin.dir}/configsindaponlucene" />
		<copy todir="${plugin.dir}/configsindaponlucene">
			<fileset dir="configsindaponlucene"/>
		</copy>
		<delete file="${plugin.dir}/log4j.xml" />
		<copy file="log4j.xml" todir="${plugin.dir}" />
		<delete dir="${project.dir}" />
		<mkdir dir="${project.dir}" />
		<copy todir="${project.dir}">
			<fileset dir="."/>
		</copy>
	</target>

	<target name="configdownload"
			depends="prep"
	        description="build the config for download">
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELG" value="INFO"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELL" value="INFO"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELZ" value="INFO"/>
	</target>

	<target name="configlocal"
			depends="prep"
        	description="build the config for local deployment">
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPHOSTPORT" value="localhost:8080"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="REPOSNAMES" value="DemoAtDtu SindapAtDtu"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="INDEXNAMES" value="DemoOnLucene SmileyDemoOnLucene SindapDemoOnLucene DemoOnZebra"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTUPDATEINDEXRESTXSLT" value="demoUpdateIndexToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGFINDOBJECTSRESTXSLT" value="demoGfindObjectsToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTBROWSEINDEXRESTXSLT" value="demoBrowseIndexToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGETREPOSITORYINFORESTXSLT" value="demoGetRepositoryInfoToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGETINDEXINFORESTXSLT" value="demoGetIndexInfoToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/log4j.xml" token="LOGPATH" value="/home/gsp/fedora-2.1.1/server/logs"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELG" value="DEBUG"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELL" value="DEBUG"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELZ" value="DEBUG"/>
		<replace file="${plugin.dir}/config/rest/demoUpdateIndexToHtml.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGfindObjectsToHtml.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoBrowseIndexToHtml.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGetIndexInfoToHtml.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGetRepositoryInfoToHtml.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="SOAPHOSTPORT" value="localhost:8080"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAOBJECTDIR" value="/home/gsp/fedora-2.1.1/data/objects/2006"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="SOAPHOSTPORT" value="defxws2005.cvt.dk"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAOBJECTDIR" value="/home/gsp/fedora-2.1.1/data/objects/sindap"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/demoFoxmlToLucene.xslt" token="WEBSERVERPATH" value="/home/gsp/fedora-2.1.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/index.properties" token="INDEXDIR" value="/home/gsp/fedoraservices/fedoragsearch/demoOnLucene"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="demoFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/SmileyDemoOnLucene/index.properties" token="INDEXDIR" value="/home/gsp/fedoraservices/fedoragsearch/smileyDemoOnLucene"/>
		<replace file="${plugin.dir}/config/index/SmileyDemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="smileyDemoFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/SindapDemoOnLucene/index.properties" token="INDEXDIR" value="/home/gsp/fedoraservices/fedoragsearch/sindapDemoOnLucene"/>
		<replace file="${plugin.dir}/config/index/SindapDemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="sindapFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/DemoOnZebra/index.properties" token="INDEXBASE" value="http://localhost:9999"/>
		<replace file="${plugin.dir}/config/index/DemoOnZebra/index.properties" token="INDEXDIR" value="/home/gsp/fedoraservices/fedoragsearch/demoOnZebra"/>
		
	</target>

	<target name="configdemo"
			depends="prep"
        	description="build the config for demo deployment">
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPHOSTPORT" value="defxws2006.cvt.dk"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="SOAPPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="REPOSNAMES" value="DemoAtDtu SindapAtDtu"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="INDEXNAMES" value="DemoOnLucene SmileyDemoOnLucene SindapDemoOnLucene DemoOnZebra"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTUPDATEINDEXRESTXSLT" value="demoUpdateIndexToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTBROWSEINDEXRESTXSLT" value="demoBrowseIndexToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGFINDOBJECTSRESTXSLT" value="demoGfindObjectsToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGETREPOSITORYINFORESTXSLT" value="demoGetRepositoryInfoToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGETINDEXINFORESTXSLT" value="demoGetIndexInfoToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/log4j.xml" token="LOGPATH" value="/home/fedora2/fedora-2.1/server/logs"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELG" value="DEBUG"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELL" value="DEBUG"/>
		<replace file="${plugin.dir}/log4j.xml" token="DEBUGLEVELZ" value="DEBUG"/>
		<replace file="${plugin.dir}/config/rest/demoUpdateIndexToHtml.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGfindObjectsToHtml.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoBrowseIndexToHtml.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGetIndexInfoToHtml.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/rest/demoGetRepositoryInfoToHtml.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="SOAPHOSTPORT" value="localhost:8282"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="FEDORAOBJECTDIR" value="/home/fedora2/fedora-2.1/data/objects/2006"/>
		<replace file="${plugin.dir}/config/repository/DemoAtDtu/repository.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="SOAPHOSTPORT" value="localhost:8080"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="FEDORAOBJECTDIR" value="/home/fedora2/fedora-2.1/data/objects/sindap"/>
		<replace file="${plugin.dir}/config/repository/SindapAtDtu/repository.properties" token="MIMETYPES" value="text/plain text/html application/pdf"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/demoFoxmlToLucene.xslt" token="WEBSERVERPATH" value="/home/fedora2/fedora-2.1/server/jakarta-tomcat-5.0.28"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/index.properties" token="INDEXDIR" value="/data/defxws2006/fgslucene/demoOnLucene"/>
		<replace file="${plugin.dir}/config/index/DemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="demoFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/SmileyDemoOnLucene/index.properties" token="INDEXDIR" value="/data/defxws2006/fgslucene/smileyDemoOnLucene"/>
		<replace file="${plugin.dir}/config/index/SmileyDemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="smileyDemoFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/SindapDemoOnLucene/index.properties" token="INDEXDIR" value="/data/defxws2006/fgslucene/sindapDemoOnLucene"/>
		<replace file="${plugin.dir}/config/index/SindapDemoOnLucene/index.properties" token="DEFAULTUPDATEINDEXDOCXSLT" value="sindapFoxmlToLucene"/>
		<replace file="${plugin.dir}/config/index/DemoOnZebra/index.properties" token="INDEXBASE" value="http://alvis.cvt.dk:9906/"/>
	</target>

	<target name="config2005demo"
			depends="prep"
        	description="build the config for 2005demo deployment">
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="OWNER" value="fedora2"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="FEDORAHOSTPORT" value="defxws2005.cvt.dk"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="FEDORAVERSION" value="2.1b"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="FEDORAUSER" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="FEDORAPASS" value="fedoraAdmin"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="INDEXNAMES" value="Zebra Lucene"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGFINDOBJECTSRESTXSLT" value="demoGfindObjectsToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTGETINDEXINFORESTXSLT" value="demoGetIndexInfoToHtml"/>
		<replace file="${plugin.dir}/config/fedoragsearch.properties" token="DEFAULTUPDATEINDEXRESTXSLT" value="demoUpdateIndexToHtml"/>
		<replace file="${plugin.dir}/Lucene.properties" token="INDEXDIR" value="/data/fedora2/LuceneForFedora/bin/index"/>
		<replace file="${plugin.dir}/Zebra.properties" token="INDEXBASE" value="http://alvis.cvt.dk:9905/"/>
	</target>

</project>
